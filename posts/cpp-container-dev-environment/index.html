<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=8080&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>My MacDventure Part 1: Setting Up Container-based C/C&#43;&#43; development Environment | Vlads Tech</title>

    <link rel="stylesheet" href="/css/main.css">


      <script src="/js/main.js"></script>


</head>
<body>
  <header>
    <div class="h1-logo">
    <img src="/white_logo.svg"/>
</div>

<nav class="main-nav">
    <a href="/">HOME</a>
    <a href="/about">About</a>
    <a href="/posts">Tech Posts</a>
</nav>



  </header>
  <main>
    
  <h1>My MacDventure Part 1: Setting Up Container-based C/C&#43;&#43; development Environment</h1>

  
  
  <time datetime="2025-06-17T00:00:00&#43;00:00">June 17, 2025</time>

  <p>So there I was, with the gift of a brand new MacBook Air. Over the past<br>
decade and a half, my primary daily drivers have ALL been Linux.</p>
<p>However, recently I decided to try something new. That something new<br>
involved getting a MacBook Air.</p>
<p>I&rsquo;ve been looking for a good coding platform, and most of the professional<br>
software engineers I know RAVE about how great Macs are. Well, Macs are<br>
Unix after all, and Unix is very similar to Linux. Therefore, I should be<br>
right at home. What could go wrong? Right????</p>
<p>I&rsquo;ll save screen space by not ranting in frustration and will instead focus<br>
on providing a productive guide to help fellow Linux users find a<br>
navigable path as they embark on their Macdventure.</p>
<p>What better way to start than by setting up your container-based developer<br>
tools without relying on the App Store or other elements of the Macaverse?</p>
<p>Docker will not be used, since it looks a bit fishy, or rather shrimpy,
on the Mac. I will be utilizing Podman instead.</p>
<p>Podman implementation on Mac works slightly differently than on Linux.<br>
It runs inside a Fedora CoreOS (FCOS) 41 (as of this writing) virtual<br>
machine (VM).<br>
<strong>Note the VM initialization steps in the instructions below.</strong></p>
<h2 id="installing-podman">Installing Podman</h2>
<ol>
<li>
<p>Download Podman <code>.pkg</code> package from the official podman github
<a href="https://github.com/containers/podman/releases">release page</a></p>
</li>
<li>
<p>Download the checkums from the official podman github
<a href="https://github.com/containers/podman/releases">release page</a>
and save the checksums in a file named
<code>shasums</code> in the same directory as the podman .pkg package</p>
</li>
<li>
<p>Verify the checksums:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>sha256sum -c --ignore-missing shasums
</span></span></code></pre></div></li>
<li>
<p>Install podman system-wide</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>sudo installer -pkg podman-installer-macos-arm64.pkg -target LocalSystem
</span></span></code></pre></div></li>
</ol>
<h2 id="initialize-podman-vm">Initialize Podman VM</h2>
<ol>
<li>
<p>Initialize podman FCOS VM</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>podman machine init devvm
</span></span><span style="display:flex;"><span>podman machine start devvm
</span></span></code></pre></div></li>
<li>
<p>Shelling into FCOS</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>podman machine ssh &lt;vm-name&gt;
</span></span></code></pre></div></li>
<li>
<p>Update FCOS VM, install vim or other packages as needed</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>sudo dnf update -y <span style="color:#f92672">&amp;&amp;</span> dnf install vim
</span></span></code></pre></div></li>
<li>
<p>Restart FCOS VM after update</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>podman machine stop devvm
</span></span><span style="display:flex;"><span>podman machine start devvm
</span></span></code></pre></div></li>
<li>
<p>Optionally Install <code>podman-compose</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>sudo dnf install vim podman-compose -y
</span></span></code></pre></div></li>
</ol>
<h2 id="setting-up-a-debian-based-cc-development-environment">Setting Up a Debian-Based C/C++ Development Environment</h2>
<ol>
<li>
<p>Create a Dockerfile with the following content</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Dockerfile" data-lang="Dockerfile"><span style="display:flex;"><span><span style="color:#66d9ef">FROM</span><span style="color:#e6db74"> docker.io/library/debian:latest</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">RUN</span> apt update <span style="color:#f92672">&amp;&amp;</span> apt upgrade -y <span style="color:#f92672">&amp;&amp;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>apt install build-essential vim git cpputest gdb cmake -y <span style="color:#f92672">&amp;&amp;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>useradd developer -m -s /bin/bash <span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">USER</span><span style="color:#e6db74"> 1000:1000</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">WORKDIR</span><span style="color:#e6db74"> /home/developer</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">ENTRYPOINT</span> /bin/bash<span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div></li>
<li>
<p>Build a developement container image <code>mydebian:dev</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>podman build -f Dockerfile.debian -t mydebian:dev .
</span></span></code></pre></div></li>
<li>
<p>Create a local <code>code</code> directory on the Mac side which will be mounted into
the <code>mydebian:dev</code> image at <code>/home/developer/code</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>mkdir code
</span></span></code></pre></div></li>
<li>
<p>Start the container and mount local <code>code</code> directory into it</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>podman run -ti --rm --name mydebian -v <span style="color:#66d9ef">$(</span>pwd<span style="color:#66d9ef">)</span>/code:/home/developer/code mydebian:dev 
</span></span></code></pre></div></li>
<li>
<p>While in the container, create a &ldquo;hello world code snippet&rdquo;,
named <code>hello.c</code> with the following content:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;stdlib.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define MSG &#34;Hello, Mac!\n&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">printf</span>(MSG);
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">exit</span>(<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
<li>
<p>Compile and run it.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>gcc -o hello hello.c
</span></span><span style="display:flex;"><span>./hello
</span></span></code></pre></div></li>
</ol>
<p>That should be enough to get started coding in C/C++.</p>
<p>Cheers!</p>

  
  <div>
    <div>Tags:</div>
    <ul>
        <li><a href="/tags/macdventure/">Macdventure</a></li>
        <li><a href="/tags/coding/">Coding</a></li>
    </ul>
  </div>


  </main>
  <footer>
    <p>Copyright 2025. All rights reserved.</p>

  </footer>
</body>
</html>
